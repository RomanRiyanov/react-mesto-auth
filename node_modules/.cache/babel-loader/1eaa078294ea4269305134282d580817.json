{"ast":null,"code":"var _jsxFileName = \"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/EditProfilePopup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProfilePopup(_ref) {\n  _s();\n\n  let {\n    onCloseButton,\n    onUpdateUser,\n    isOpen\n  } = _ref;\n  const currentUser = useContext(CurrentUserContext);\n  const [isInputValid, setValidity] = useState(true);\n  const [state, setState] = useState({\n    name: '',\n    description: '',\n    nameError: '',\n    descriptionError: ''\n  });\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case 'name':\n        setState({\n          name: event.target.value,\n          nameError: event.target.validationMessage\n        });\n        break;\n\n      case 'about':\n        setState({\n          description: event.target.value,\n          descriptionError: event.target.validationMessage\n        });\n        break;\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser({\n      name: state[name],\n      about: state[description]\n    });\n  }\n\n  useEffect(() => {\n    if (state[nameError] && state[descriptionError]) {\n      setValidity(false);\n    } else setValidity(true);\n\n    setState({\n      [name]: currentUser.name,\n      [description]: currentUser.about\n    });\n  }, [currentUser]); // const [name, setName] = useState('');\n  // const [description, setDescription] = useState('');\n  // const [nameError, setNameError] = useState('');\n  // const [descriptionError, setDescriptionError] = useState('');\n  // function handleChangeName(event) {\n  //     setName(event.target.value);\n  //     setNameError(event.target.validationMessage);\n  // }\n  // function handleChangeDescription(event) {\n  //     setDescription(event.target.value);\n  //     setDescriptionError(event.target.validationMessage);     \n  // }\n  // function handleSubmit(event) {\n  //     event.preventDefault();\n  //     onUpdateUser({\n  //         name: name,\n  //         about: description,\n  //     })\n  // }\n  // useEffect(() => {\n  //     if (nameError && descriptionError) {\n  //         setValidity(false);\n  //     } else setValidity(true);\n  //     setName(currentUser.name);\n  //     setDescription(currentUser.about);\n  // }, [currentUser])\n\n  return (\n    /*#__PURE__*/\n    // <PopupWithForm \n    // onSubmit={handleSubmit} \n    // onCloseButton = {onCloseButton} \n    // isOpen={isOpen}\n    // isInputValid={isInputValid}\n    // name=\"edit-profile\" \n    // title=\"Редактировать профиль\" \n    // buttonText=\"Сохранить\">\n    //     <input onChange={handleChangeName} value={name} className=\"popup__input\" id=\"name-input\" placeholder=\"Имя\" type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n    //     <span className={`popup__input-error name-input-error ${nameError && 'popup__input-error_active'}`}>\n    //         {nameError ? `${nameError}` : ''}\n    //     </span>\n    //     <input onChange={handleChangeDescription} value={description} className=\"popup__input\" id=\"profession-input\" placeholder=\"Профессия\" type=\"text\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\n    //     <span className={`popup__input-error profession-input-error ${descriptionError && 'popup__input-error_active'}`}>\n    //         {descriptionError ? `${descriptionError}` : ''}\n    //     </span>\n    // </PopupWithForm>\n    _jsxDEV(PopupWithForm, {\n      onSubmit: handleSubmit,\n      onCloseButton: onCloseButton,\n      isOpen: isOpen,\n      isInputValid: isInputValid,\n      name: \"edit-profile\",\n      title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n      buttonText: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        value: state[name],\n        className: \"popup__input\",\n        id: \"name-input\",\n        placeholder: \"\\u0418\\u043C\\u044F\",\n        type: \"text\",\n        name: \"name\",\n        minLength: \"2\",\n        maxLength: \"40\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `popup__input-error name-input-error ${state[nameError] && 'popup__input-error_active'}`,\n        children: state[nameError] ? `${state[nameError]}` : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        value: state[description],\n        className: \"popup__input\",\n        id: \"profession-input\",\n        placeholder: \"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",\n        type: \"text\",\n        name: \"about\",\n        minLength: \"2\",\n        maxLength: \"200\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `popup__input-error profession-input-error ${state[descriptionError] && 'popup__input-error_active'}`,\n        children: state[descriptionError] ? `${state[descriptionError]}` : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(EditProfilePopup, \"qInygQfTcPVUiaA8ngkjJwQS27M=\");\n\n_c = EditProfilePopup;\nexport default EditProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["React","useEffect","useState","useContext","PopupWithForm","CurrentUserContext","EditProfilePopup","onCloseButton","onUpdateUser","isOpen","currentUser","isInputValid","setValidity","state","setState","name","description","nameError","descriptionError","handleChange","event","target","value","validationMessage","handleSubmit","preventDefault","about"],"sources":["/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React, {useEffect, useState, useContext} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction EditProfilePopup ({onCloseButton, onUpdateUser, isOpen}) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [isInputValid, setValidity] = useState(true);\n\nconst [state, setState] = useState({\n    name: '',\n    description: '',\n    nameError: '',\n    descriptionError: ''\n});\n\nfunction handleChange (event) {\n    switch (event.target.name) {\n        case 'name':\n        setState({\n            name: event.target.value,\n            nameError: event.target.validationMessage\n        });\n            break;\n        case 'about':\n        setState({\n            description: event.target.value,\n            descriptionError: event.target.validationMessage\n        });\n            break;\n    }\n}\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    onUpdateUser({\n        name: state[name],\n        about: state[description],\n    })\n}\n\nuseEffect(() => {\n    if (state[nameError] && state[descriptionError]) {\n        setValidity(false);\n    } else setValidity(true);\n    \n    setState({\n        [name]: currentUser.name,\n        [description]: currentUser.about\n    });\n}, [currentUser])\n\n\n\n\n    // const [name, setName] = useState('');\n    // const [description, setDescription] = useState('');\n\n    // const [nameError, setNameError] = useState('');\n    // const [descriptionError, setDescriptionError] = useState('');\n    \n    // function handleChangeName(event) {\n    //     setName(event.target.value);\n    //     setNameError(event.target.validationMessage);\n    // }\n    // function handleChangeDescription(event) {\n    //     setDescription(event.target.value);\n    //     setDescriptionError(event.target.validationMessage);     \n    // }\n\n    // function handleSubmit(event) {\n    //     event.preventDefault();\n\n    //     onUpdateUser({\n    //         name: name,\n    //         about: description,\n    //     })\n    // }\n\n    // useEffect(() => {\n    //     if (nameError && descriptionError) {\n    //         setValidity(false);\n    //     } else setValidity(true);\n\n    //     setName(currentUser.name);\n    //     setDescription(currentUser.about);\n    // }, [currentUser])\n\n    return (\n        // <PopupWithForm \n        // onSubmit={handleSubmit} \n        // onCloseButton = {onCloseButton} \n        // isOpen={isOpen}\n        // isInputValid={isInputValid}\n        // name=\"edit-profile\" \n        // title=\"Редактировать профиль\" \n        // buttonText=\"Сохранить\">\n        //     <input onChange={handleChangeName} value={name} className=\"popup__input\" id=\"name-input\" placeholder=\"Имя\" type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n        //     <span className={`popup__input-error name-input-error ${nameError && 'popup__input-error_active'}`}>\n        //         {nameError ? `${nameError}` : ''}\n        //     </span>\n\n        //     <input onChange={handleChangeDescription} value={description} className=\"popup__input\" id=\"profession-input\" placeholder=\"Профессия\" type=\"text\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\n        //     <span className={`popup__input-error profession-input-error ${descriptionError && 'popup__input-error_active'}`}>\n        //         {descriptionError ? `${descriptionError}` : ''}\n        //     </span>\n        // </PopupWithForm>\n        <PopupWithForm \n        onSubmit={handleSubmit} \n        onCloseButton = {onCloseButton} \n        isOpen={isOpen}\n        isInputValid={isInputValid}\n        name=\"edit-profile\" \n        title=\"Редактировать профиль\" \n        buttonText=\"Сохранить\">\n            <input onChange={handleChange} value={state[name]} className=\"popup__input\" id=\"name-input\" placeholder=\"Имя\" type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n            <span className={`popup__input-error name-input-error ${state[nameError] && 'popup__input-error_active'}`}>\n                {state[nameError] ? `${state[nameError]}` : ''}\n            </span>\n\n            <input onChange={handleChange} value={state[description]} className=\"popup__input\" id=\"profession-input\" placeholder=\"Профессия\" type=\"text\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\n            <span className={`popup__input-error profession-input-error ${state[descriptionError] && 'popup__input-error_active'}`}>\n                {state[descriptionError] ? `${state[descriptionError]}` : ''}\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module"}