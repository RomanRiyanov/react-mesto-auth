[{"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/index.js":"1","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/reportWebVitals.js":"2","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/App.js":"3","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Footer.js":"4","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Header.js":"5","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/PopupWithImage.js":"6","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Main.js":"7","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/PopupWithForm.js":"8","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Card.js":"9","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/utils/Api.js":"10","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/AddPlacePopup.js":"11","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/EditAvatarPopup.js":"12","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/EditProfilePopup.js":"13","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/ConfirmPopup.js":"14","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/context/CurrentUserContext.js":"15"},{"size":637,"mtime":1659785895381,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1658646996814,"results":"18","hashOfConfig":"17"},{"size":5725,"mtime":1660228475659,"results":"19","hashOfConfig":"17"},{"size":235,"mtime":1658646996796,"results":"20","hashOfConfig":"17"},{"size":264,"mtime":1658646996796,"results":"21","hashOfConfig":"17"},{"size":745,"mtime":1660228475664,"results":"22","hashOfConfig":"17"},{"size":1923,"mtime":1660228475662,"results":"23","hashOfConfig":"17"},{"size":994,"mtime":1660128500538,"results":"24","hashOfConfig":"17"},{"size":1960,"mtime":1660220571492,"results":"25","hashOfConfig":"17"},{"size":3061,"mtime":1659785895382,"results":"26","hashOfConfig":"17"},{"size":2196,"mtime":1660228475658,"results":"27","hashOfConfig":"17"},{"size":1542,"mtime":1660228475661,"results":"28","hashOfConfig":"17"},{"size":2672,"mtime":1660128500537,"results":"29","hashOfConfig":"17"},{"size":689,"mtime":1660128500535,"results":"30","hashOfConfig":"17"},{"size":126,"mtime":1659785895379,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"aoeca5",{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"59"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/index.js",[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/reportWebVitals.js",[],[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/App.js",["83","84"],[],"import React, { useEffect } from \"react\";\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport PopupWithImage from './PopupWithImage';\nimport { api } from \"../utils/Api\";\nimport {CurrentUserContext} from '../context/CurrentUserContext';\n\nfunction App() {\n\n    const [currentUser, setCurrentUser] = React.useState({\n        name: \"\",\n        about: \"\",\n        avatar: \"\",\n        _id: \"\",\n        cohort: \"\"\n      });\n\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n    const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n\n    const [cards, setCards] = React.useState([]);\n\n    const [selectedCard, setSelectedCard] = React.useState([]);\n\n    const [isLoaded, setIsLoaded] = React.useState(false);\n\n    function onEditAvatar() {\n        setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n    }\n\n    function onEditProfile() {\n        setEditProfilePopupOpen(!isEditProfilePopupOpen);\n    }\n\n    function onAddPlace() {\n        setAddPlacePopupOpen(!isAddPlacePopupOpen);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n        setImagePopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false);\n        setEditProfilePopupOpen(false);\n        setAddPlacePopupOpen(false);\n        setImagePopupOpen(false);\n    }\n\n    React.useEffect(() => {\n        function handleEscapeClose(event) {\n            if (event.key === 'Escape') {\n                closeAllPopups()\n            }\n        }\n    \n        document.addEventListener('keydown', handleEscapeClose);\n\n        return () => {\n            document.removeEventListener('keydown', handleEscapeClose);\n        }\n    }, [])\n\n    function handleUpdateUser (data) {\n        setIsLoaded(true);\n\n        api.setUserInfo(data)\n        .then(userData => {\n            setCurrentUser(userData);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            setIsLoaded(false);\n        })\n    }\n\n    function handleUpdateAvatar (data) {\n        setIsLoaded(true);\n\n        api.setUserAvatar(data)\n        .then(userData => {\n            setCurrentUser(userData);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            setIsLoaded(false);\n        })\n    }\n\n    function handleCardLike (card) {\n        const isLiked = card.likes.some(elem => elem._id === currentUser._id);\n        setIsLoaded(true);\n\n        api.changeLikeCardStatus(card._id, isLiked)\n        .then((newCard) => {\n            setCards((oldCards) => {\n                return oldCards.map((item) => item._id === card._id ? newCard : item)\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            setIsLoaded(false);\n        })\n    }\n\n    function handleDeleteClick (card) {\n        setIsLoaded(true);\n\n        api.deleteCard(card._id)\n        .then(() => {\n            setCards((oldCards) => {\n                return oldCards.filter((item) => item._id != card._id)\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            setIsLoaded(false);\n        }) \n    }\n\n    function handleAddPlaceSubmit (data) {\n        setIsLoaded(true);\n\n        api.addNewCard(data)\n        .then((newCard) => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            setIsLoaded(false);\n        })\n    }\n\n    React.useEffect(() => {\n        api.getUserInfo()\n        .then(userData => {\n            setCurrentUser(userData);\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }, []);\n\n    React.useEffect(() => {\n        api.getCards()\n        .then(cardsData => {\n            setCards(cardsData);\n        })\n        .catch(err => {\n            console.log(err);\n        });   \n    }, []);\n\n  return (\n    \n      <div className=\"body\">\n        <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n\n            <Header />\n\n            <Main \n                onEditAvatar = {onEditAvatar} \n                onEditProfile = {onEditProfile}\n                onAddPlace = {onAddPlace}\n                onCloseButton = {closeAllPopups}\n                onCardClick={handleCardClick}\n                onCardDelete={handleDeleteClick}\n                onCardLike={handleCardLike}\n                cards={cards}\n                isLoaded={isLoaded}>\n            </Main> \n\n            <Footer />\n\n            <EditProfilePopup isLoaded={isLoaded} onUpdateUser={handleUpdateUser} onCloseButton = {closeAllPopups} isOpen={isEditProfilePopupOpen} />\n\n            <AddPlacePopup isLoaded={isLoaded} onCardAdd={handleAddPlaceSubmit} onCloseButton = {closeAllPopups} isOpen={isAddPlacePopupOpen} />\n\n            <EditAvatarPopup isLoaded={isLoaded} onUpdateAvatar={handleUpdateAvatar} onCloseButton = {closeAllPopups} isOpen={isEditAvatarPopupOpen} />\n                \n            <PopupWithImage isLoaded={isLoaded} onClose={closeAllPopups} card={selectedCard} isOpen={isImagePopupOpen}></PopupWithImage>\n\n\n\n        </CurrentUserContext.Provider>\n        </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Footer.js",[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Header.js",[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/PopupWithImage.js",[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Main.js",["85","86"],[],"import React, { useEffect, useState, useContext } from \"react\";\n\nimport Card from \"./Card\";\nimport {CurrentUserContext} from '../context/CurrentUserContext';\n\n\nfunction Main \n        ({\n            cards, \n            onCardDelete,\n            onCardLike, \n            onEditAvatar, \n            onEditProfile, \n            onAddPlace, \n            onCloseButton, \n            onCardClick,\n            children, \n            isOpen,\n            isLoaded\n        }) {\n    \n    const currentUser = useContext(CurrentUserContext);\n    \n    return (\n        <main className=\"main\">\n            <section className=\"profile\">\n                <div className=\"profile__updateImage\" ></div>\n                <img onClick={onEditAvatar} className=\"profile__image\" src={currentUser.avatar || ''} alt=\"Фото профиля\" />\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__title\">{currentUser.name || ''}</h1>                    \n                    <button onClick={onEditProfile} aria-label=\"Редактировать профиль\" className=\"edit-button\"></button>\n                    <h2 className=\"profile__subtitle\">{currentUser.about || ''}</h2>\n                </div>\n                <button onClick={onAddPlace} aria-label=\"Добавить фото\" className=\"add-button\"/>\n                {children}\n            </section>\n\n            <section className=\"elements\">\n                {cards && cards.map((card) => (\n                    <Card \n                    key={card._id} \n                    card={card} \n                    onCardClick={onCardClick} \n                    onCardLike={onCardLike} \n                    onCardDelete={onCardDelete} \n                    isOpen={isOpen} \n                    onCloseButton={onCloseButton}\n                    isLoaded={isLoaded}/>\n                ))}\n            </section>\n\n        </main>\n    );\n}\n\nexport default Main;\n","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/PopupWithForm.js",[],[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/Card.js",["87"],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/utils/Api.js",[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/AddPlacePopup.js",["88"],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/EditAvatarPopup.js",["89"],[],"import React, {useEffect, useState, useContext} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup ({\n    isOpen, \n    onCloseButton, \n    onUpdateAvatar,\n    isLoaded\n}) {\n\n    const avatarInput = React.useRef();\n\n    const [isInputValid, setValidity] = useState(true);\n\n    const buttonText = isLoaded ? 'Сохранение...' : 'Сохранить';\n\n    function handleChange() {\n        setValidity(avatarInput.current.validity.valid);        \n    }\n\n    function handleSubmit (event) {\n        event.preventDefault();\n\n        onUpdateAvatar({\n            avatar: avatarInput.current.value\n        });\n    }\n\n    useEffect(() => {\n        avatarInput.current.value = '';\n    }, [isOpen])\n\n    return (\n        <PopupWithForm \n        onSubmit={handleSubmit}\n        onCloseButton = {onCloseButton} \n        isOpen={isOpen}\n        isInputValid={isInputValid}\n        name=\"add-avatar\" \n        title=\"Обновить аватар\"\n        buttonText={buttonText}\n        windowType='popup__window_type_avatar'>\n            <input onChange={handleChange} ref={avatarInput} className=\"popup__input\" id=\"avatar-input\" placeholder=\"Ссылка на новый аватар\" type=\"url\" name=\"avatarUrl\" required />\n            <span className={`popup__input-error avatar-input-error ${isInputValid || 'popup__input-error_active'}`}>\n                {isInputValid ? '' : `${avatarInput.current.validationMessage}`}\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;\n\n\n","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/EditProfilePopup.js",["90","91"],[],"import React, {useEffect, useState, useContext} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction EditProfilePopup ({onCloseButton, onUpdateUser, isOpen}) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [isInputValid, setValidity] = useState(true);\n\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    const [nameError, setNameError] = useState('');\n    const [descriptionError, setDescriptionError] = useState('');\n    \n    function handleChangeName(event) {\n        setName(event.target.value);\n        setNameError(event.target.validationMessage);\n    }\n    function handleChangeDescription(event) {\n        setDescription(event.target.value);\n        setDescriptionError(event.target.validationMessage);     \n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        onUpdateUser({\n            name: name,\n            about: description,\n        })\n    }\n\n    useEffect(() => {\n        if (nameError && descriptionError) {\n            setValidity(false);\n        } else setValidity(true);\n\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser])\n\n    return (\n        <PopupWithForm \n        onSubmit={handleSubmit} \n        onCloseButton = {onCloseButton} \n        isOpen={isOpen}\n        isInputValid={isInputValid}\n        name=\"edit-profile\" \n        title=\"Редактировать профиль\" \n        buttonText=\"Сохранить\">\n            <input onChange={handleChangeName} value={name} className=\"popup__input\" id=\"name-input\" placeholder=\"Имя\" type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n            <span className={`popup__input-error name-input-error ${nameError && 'popup__input-error_active'}`}>\n                {nameError ? `${nameError}` : ''}\n            </span>\n\n            <input onChange={handleChangeDescription} value={description} className=\"popup__input\" id=\"profession-input\" placeholder=\"Профессия\" type=\"text\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\n            <span className={`popup__input-error profession-input-error ${descriptionError && 'popup__input-error_active'}`}>\n                {descriptionError ? `${descriptionError}` : ''}\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/components/ConfirmPopup.js",[],[],"/Users/romansexmachine/Desktop/dev/mesto-react/mesto-react/src/context/CurrentUserContext.js",[],[],{"ruleId":"92","severity":1,"message":"93","line":5,"column":8,"nodeType":"94","messageId":"95","endLine":5,"endColumn":21},{"ruleId":"96","severity":1,"message":"97","line":112,"column":59,"nodeType":"98","messageId":"99","endLine":112,"endColumn":61},{"ruleId":"92","severity":1,"message":"100","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":26},{"ruleId":"92","severity":1,"message":"101","line":1,"column":28,"nodeType":"94","messageId":"95","endLine":1,"endColumn":36},{"ruleId":"92","severity":1,"message":"100","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":26},{"ruleId":"92","severity":1,"message":"102","line":1,"column":37,"nodeType":"94","messageId":"95","endLine":1,"endColumn":47},{"ruleId":"92","severity":1,"message":"102","line":1,"column":37,"nodeType":"94","messageId":"95","endLine":1,"endColumn":47},{"ruleId":"103","severity":1,"message":"104","line":44,"column":8,"nodeType":"105","endLine":44,"endColumn":16,"suggestions":"106"},{"ruleId":"103","severity":1,"message":"107","line":53,"column":8,"nodeType":"105","endLine":53,"endColumn":21,"suggestions":"108"},"no-unused-vars","'PopupWithForm' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'useEffect' is defined but never used.","'useState' is defined but never used.","'useContext' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser.about' and 'currentUser.name'. Either include them or remove the dependency array.","ArrayExpression",["109"],"React Hook useEffect has missing dependencies: 'descriptionError' and 'nameError'. Either include them or remove the dependency array.",["110"],{"desc":"111","fix":"112"},{"desc":"113","fix":"114"},"Update the dependencies array to be: [currentUser.about, currentUser.name, isOpen]",{"range":"115","text":"116"},"Update the dependencies array to be: [currentUser, descriptionError, nameError]",{"range":"117","text":"118"},[1247,1255],"[currentUser.about, currentUser.name, isOpen]",[1477,1490],"[currentUser, descriptionError, nameError]"]